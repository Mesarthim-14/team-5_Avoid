//=======================================================================================
//
// ゲームモード処理 [game_mode.cpp]
// Author : Konishi Yuuto
//
//=======================================================================================

//=======================================================================================
// インクルード
//=======================================================================================
#include "game_mode.h"
#include "manager.h"
#include "renderer.h"
#include "player.h"
#include "resource_manager.h"
#include "library.h"
#include "game.h"

//=======================================================================================
// コンストラクタ
//=======================================================================================
CGameMode::CGameMode()
{
	m_GameMode = GAME_MOVE_NONE;
}

//=======================================================================================
// デストラクタ
//=======================================================================================
CGameMode::~CGameMode()
{
}

//=======================================================================================
// インスタンス生成
//=======================================================================================
CGameMode * CGameMode::Create()
{
	// メモリ確保
	CGameMode *pGameMode = new CGameMode;
	if (pGameMode)
	{
		// インスタンス生成
		pGameMode->Init();
		return pGameMode;
	}

	return nullptr;
}

//=======================================================================================
// 初期化処理
//=======================================================================================
HRESULT CGameMode::Init()
{
	// 通常状態
	m_GameMode = GAME_MOVE_NORMAL;

	return S_OK;
}

//=======================================================================================
// 更新処理
//=======================================================================================
void CGameMode::Update()
{
	// タイプごとに更新処理を変える
	(this->*m_UpdateMode.at((size_t)m_GameMode))();
}

//=======================================================================================
// 通常の更新処理
//=======================================================================================
void CGameMode::NormalUpdate()
{
	CPlayer *pPlayer = CManager::GetInstance()->GetPlayer();
//	pPlayer->Control();

}

//=======================================================================================
// 大砲モードの時
//=======================================================================================
void CGameMode::CannonUpdate()
{

	CPlayer *pPlayer = CManager::GetInstance()->GetPlayer();
//	pPlayer->CannonUpdate();
	int n = 0;
}